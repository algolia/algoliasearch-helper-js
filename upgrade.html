<!DOCTYPE html><html><head><meta content="IE=edge" http-equiv="X-UA-Compatible"><meta charset="utf-8"><meta content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport"><link href="#" rel="icon" type="image/x-icon"><meta content="The Algolia JS Helper is the toolbox to create advanced search experience " name="description"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><!-- / Twitter card--><meta content="summary_large_image" name="twitter:card"><meta content="@Algolia" name="twitter:site"><meta content="@Algolia" name="twitter:creator"><meta content="Algolia JS Helper" name="twitter:title"><meta content="The Algolia JS Helper is the toolbox to create advanced search experience " name="twitter:description"><meta content="Algolia Product image" name="twitter:image"><!-- / OG meta--><meta content="https://community.algolia.com/algoliasearch-helper-js/" property="og:url"><meta content="Algolia JS Helper documentation" property="og:title"><meta content="#" property="og:image"><meta content="article" property="og:type"><meta content="The Algolia JS Helper is the toolbox to create advanced search experience " property="og:description"><meta content="Algolia JS Helper" property="og:site_name"><!-- Use title if it's in the page YAML frontmatter--><title>Upgrade guides</title><link href="https://fonts.googleapis.com/css?family=Montserrat:500,600|Open+Sans" rel="stylesheet" type="text/css"><link rel="stylesheet" href="css/index.css"><link rel="stylesheet" href="https://yandex.st/highlightjs/8.0/styles/github.min.css"><!-- Google Tag Manager--><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-N8JP8G" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N8JP8G');</script></head><body><nav class="algc-navigation"><div class="algc-navigation__container"><div class="algc-mainmenu"><ul class="algc-navigation__brands"><li class="algc-navigation__li algc-navigation__li--algolia"><a href="https://www.algolia.com/"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 117"><path fill="#FFF" d="M249.5 64.2V1.4c0-.9-.7-1.5-1.6-1.4L236.2 2a1.4 1.4 0 0 0-1.2 1.3V67c0 3 0 21.6 22.4 22.3a1.4 1.4 0 0 0 1.5-1.4v-9.5c0-.7-.6-1.3-1.2-1.4-8.2-.9-8.2-11-8.2-12.7ZM443.5 24.4h-11.8c-.8 0-1.4.6-1.4 1.4v62c0 .8.6 1.4 1.4 1.4h11.8c.8 0 1.4-.6 1.4-1.4v-62c0-.8-.6-1.4-1.4-1.4ZM431.7 16.6h11.8c.8 0 1.4-.6 1.4-1.3v-14c0-.8-.7-1.4-1.6-1.3L431.5 2a1.4 1.4 0 0 0-1.2 1.3v12c0 .8.6 1.4 1.4 1.4Zm-20.5 47.6V1.4c0-.9-.7-1.5-1.5-1.4L397.9 2a1.4 1.4 0 0 0-1.2 1.3V67c0 3 0 21.6 22.4 22.3a1.4 1.4 0 0 0 1.5-1.4v-9.5c0-.7-.5-1.3-1.2-1.4-8.2-.9-8.2-11-8.2-12.7Zm-30.7-31c-2.6-2.8-5.8-5-9.6-6.5a31.7 31.7 0 0 0-12-2.3c-4.5 0-8.5.7-12.2 2.3A27.9 27.9 0 0 0 331 43.5a39.6 39.6 0 0 0 0 26.3c1.5 4 3.6 7.5 6.2 10.3 2.6 2.9 5.8 5 9.5 6.7a38 38 0 0 0 12.2 2.4c2.8 0 8.6-.9 12.3-2.4a27 27 0 0 0 9.5-6.7 35.1 35.1 0 0 0 8.3-23c0-4.9-.8-9.6-2.4-13.6-1.5-4-3.5-7.4-6.1-10.2ZM370 71.5a13.1 13.1 0 0 1-11.2 5.6 13 13 0 0 1-11.2-5.6c-2.7-3.6-4-7.9-4-14.2 0-6.3 1.3-11.5 4-15.1a13 13 0 0 1 11.1-5.5 13 13 0 0 1 11.3 5.5c2.6 3.6 4 8.8 4 15 0 6.4-1.3 10.6-4 14.3Zm-161.6-47H197a32 32 0 0 0-27 15 33.8 33.8 0 0 0 8.9 45.9 18.8 18.8 0 0 0 11.2 3.1H191.2l.6-.2h.2a21 21 0 0 0 16.5-14.6V87c0 .8.6 1.4 1.4 1.4h11.7c.8 0 1.4-.6 1.4-1.4V25.8c0-.8-.6-1.4-1.4-1.4h-13Zm0 48.3a17.8 17.8 0 0 1-10.4 3.5h-.2a12.5 12.5 0 0 1-.7 0A18.4 18.4 0 0 1 180.4 51c2.7-6.8 9-11.6 16.6-11.6h11.5v33.3Zm289-48.3H486a32 32 0 0 0-27 15 33.8 33.8 0 0 0 8.8 45.9 18.8 18.8 0 0 0 11.3 3.1h1.1l.6-.2h.2a21 21 0 0 0 16.5-14.6V87c0 .8.6 1.4 1.4 1.4h11.7c.8 0 1.4-.6 1.4-1.4V25.8c0-.8-.6-1.4-1.4-1.4h-13.1Zm0 48.3a17.8 17.8 0 0 1-10.5 3.5h-.9A18.4 18.4 0 0 1 469.4 51c2.6-6.8 9-11.6 16.6-11.6h11.5v33.3ZM306.3 24.4h-11.5a32 32 0 0 0-27 15 33.7 33.7 0 0 0-5.1 14.6 34.6 34.6 0 0 0 0 7.6c1 8.9 5.4 16.7 11.8 22a19.5 19.5 0 0 0 2.2 1.7 18.8 18.8 0 0 0 21.6-.6c3.8-2.7 6.7-6.7 8-11.1V87.9c0 5-1.3 8.9-4 11.5-2.7 2.6-7.3 3.9-13.6 3.9-2.6 0-6.7-.2-10.9-.6a1.4 1.4 0 0 0-1.4 1l-3 10a1.4 1.4 0 0 0 1.1 1.8c5 .7 10 1 12.8 1 11.4 0 19.8-2.4 25.3-7.4 5-4.6 7.8-11.4 8.2-20.7V25.8c0-.8-.6-1.4-1.3-1.4h-13.2Zm0 15s.2 32.4 0 33.4a17.5 17.5 0 0 1-10 3.4h-.2a13.6 13.6 0 0 1-1.7 0A18.7 18.7 0 0 1 278.3 51c2.6-6.8 9-11.6 16.5-11.6h11.5ZM58.2 0A58.3 58.3 0 1 0 86 109.5c.9-.5 1-1.6.3-2.2l-5.5-4.9a3.8 3.8 0 0 0-4-.6A47 47 0 0 1 11 57.5 47.3 47.3 0 0 1 58.2 11h47.3v84L78.7 71.2a2 2 0 0 0-3 .3 22 22 0 1 1 4.4-15.2 4 4 0 0 0 1.3 2.6l7 6.2c.8.7 2 .3 2.3-.8a33 33 0 0 0-30.4-39 33 33 0 0 0-35 32 33.3 33.3 0 0 0 32.2 33.9 32.8 32.8 0 0 0 20-6.3l35.1 31c1.5 1.4 3.9.3 3.9-1.7V2.2a2.2 2.2 0 0 0-2.2-2.2h-56Z"></path></svg></a></li><li class="algc-navigation__li algc-navigation__li--community"><a href="https://community.algolia.com/" data-enabledropdown="true" data-dropdown="integrations"><svg class="algc-arrowseparator" viewbox="0 0 18 35" xmlns="http://www.w3.org/2000/svg"><g id="Symbols" fill="none" fill-rule="evenodd"><g id="community/header" fill="#3369E6"><g id="Group-13"><g id="Group-2"><path id="Combined-Shape-Copy" d="M1.8537 34.7643l15.5597-17.268L1.8537 0H0l15.5597 17.4964L0 34.7644z"></path></g></g></g></g></svg><svg class="algolia-community-logo" role="img" aria-labelledby="algc-algolia-community-logo" width="143" height="32" viewbox="0 0 143 32" xmlns="http://www.w3.org/2000/svg"><title id="algc-algolia-community-logo">algolia community</title><g fill="none" fill-rule="evenodd"><path fill="#46AEDA" d="M13.503 3.268L16.366.402l3.45 3.456-1.145 1.146-2.3-2.304-1.716 1.72"></path><path fill="#FE336F" d="M19.302 29.712L16.44 32.58l-9.777-9.792 1.145-1.146 8.627 8.638 1.717-1.72"></path><path fill="#F5A623" d="M20.447 28.566l12.02-12.04-11.5-11.517-1.146 1.146 10.353 10.366-10.876 10.892"></path><path fill="#50E3C2" d="M5.49 11.294l-5.153 5.16 5.176 5.182 1.145-1.146-4.025-4.03 4.007-4.014"></path><path fill="#BD0FE1" d="M6.634 10.147l5.725-5.732 1.15 1.152L7.783 11.3"></path><path d="M16.538 11.796c-3.07 0-5.558 2.477-5.558 5.536 0 3.06 2.49 5.53 5.558 5.53 3.068 0 5.558-2.477 5.558-5.536 0-3.06-2.484-5.53-5.558-5.53zm0 9.432c-2.16 0-3.916-1.746-3.916-3.896s1.755-3.896 3.916-3.896c2.16 0 3.916 1.746 3.916 3.896s-1.75 3.896-3.916 3.896zm0-6.996v2.904c0 .083.09.143.167.1l2.59-1.335c.06-.03.078-.1.05-.16-.557-.97-1.573-1.582-2.688-1.62-.06 0-.12.047-.12.112zm-3.63-2.133l-.34-.34c-.334-.332-.873-.332-1.206 0l-.406.405c-.16.158-.25.374-.25.6 0 .225.09.44.25.6l.334.332c.054.053.132.04.18-.012.197-.27.414-.524.65-.76.238-.24.496-.457.77-.654.06-.034.066-.117.018-.17zm5.45-.88v-.67c0-.47-.382-.85-.853-.85h-1.988c-.472 0-.854.38-.854.85v.688c0 .077.072.13.15.113.562-.16 1.145-.243 1.73-.242.568 0 1.13.077 1.673.225.034.01.07 0 .1-.02.027-.023.043-.057.043-.093zM41.436 16.5c0-.77.12-1.488.358-2.157.238-.67.58-1.25 1.022-1.74.444-.49.984-.876 1.62-1.154.635-.28 1.35-.42 2.144-.42.98 0 1.907.18 2.78.538l-.516 1.97c-.278-.12-.592-.22-.943-.3-.35-.08-.724-.12-1.12-.12-.94 0-1.656.296-2.146.886-.49.59-.735 1.423-.735 2.497 0 1.035.23 1.854.694 2.457.463.603 1.245.905 2.344.905.41 0 .814-.04 1.21-.12.398-.08.743-.178 1.034-.298l.337 1.99c-.265.132-.666.25-1.202.357-.546.108-1.102.16-1.658.16-.888 0-1.66-.136-2.314-.407-.656-.272-1.2-.65-1.63-1.134-.43-.485-.75-1.062-.962-1.732-.212-.67-.318-1.395-.318-2.177zm19.126-.02c0 .823-.12 1.572-.357 2.248-.24.676-.576 1.253-1.013 1.73-.437.478-.964.85-1.58 1.114-.615.266-1.294.398-2.035.398-.74 0-1.416-.132-2.026-.398-.608-.265-1.13-.636-1.568-1.113-.437-.48-.778-1.056-1.023-1.732-.246-.676-.368-1.425-.368-2.247 0-.82.123-1.567.367-2.237.244-.67.59-1.243 1.032-1.72.444-.478.97-.846 1.58-1.104.608-.26 1.277-.39 2.005-.39s1.4.13 2.016.39c.616.257 1.142.625 1.58 1.103.436.477.777 1.05 1.022 1.72.245.67.367 1.416.367 2.238zm-2.463 0c0-1.034-.223-1.852-.666-2.456-.443-.603-1.063-.905-1.857-.905s-1.414.3-1.857.904c-.443.604-.665 1.422-.665 2.457 0 1.048.222 1.877.665 2.487.444.61 1.063.915 1.857.915s1.414-.305 1.857-.915c.444-.61.665-1.44.665-2.486zm10.863-.258c0-1.087-.135-1.873-.407-2.357-.27-.484-.778-.726-1.52-.726-.264 0-.555.02-.873.06-.318.04-.556.072-.715.098v8.394h-2.403V11.628c.463-.133 1.07-.26 1.817-.378.748-.12 1.54-.18 2.373-.18.715 0 1.3.094 1.758.28.457.185.838.43 1.142.735.146-.106.33-.22.556-.338.226-.12.478-.23.756-.328.29-.104.584-.187.884-.25.31-.066.625-.1.943-.1.808 0 1.473.117 1.996.35.522.23.933.556 1.23.973.298.418.504.922.616 1.512.113.59.17 1.237.17 1.94v5.847H74.88v-5.47c0-1.087-.133-1.873-.397-2.357-.265-.484-.775-.726-1.53-.726-.384 0-.748.062-1.092.188-.344.126-.602.25-.775.368.106.332.18.683.22 1.054.04.372.058.77.058 1.194v5.748h-2.403v-5.47zm17.18 0c0-1.087-.136-1.873-.407-2.357-.272-.484-.778-.726-1.52-.726-.264 0-.556.02-.873.06-.318.04-.556.072-.715.098v8.394h-2.404V11.628c.464-.133 1.07-.26 1.818-.378.748-.12 1.54-.18 2.373-.18.715 0 1.3.094 1.758.28.457.185.837.43 1.142.735.145-.106.33-.22.556-.338.226-.12.478-.23.756-.328.288-.104.584-.187.883-.25.31-.066.625-.1.943-.1.807 0 1.473.117 1.996.35.522.23.932.556 1.23.973.298.418.503.922.616 1.512.112.59.17 1.237.17 1.94v5.847H92.06v-5.47c0-1.087-.133-1.873-.398-2.357-.264-.484-.774-.726-1.53-.726-.383 0-.747.062-1.09.188-.346.126-.604.25-.776.368.106.332.18.683.22 1.054.038.372.058.77.058 1.194v5.748h-2.403v-5.47zm19.78 5.15c-.462.12-1.065.244-1.806.37-.74.125-1.556.188-2.443.188-.834 0-1.532-.12-2.095-.358-.564-.238-1.014-.57-1.352-.994-.337-.424-.58-.932-.725-1.522-.145-.59-.218-1.236-.218-1.94V11.29h2.403v5.45c0 1.113.162 1.91.487 2.386.324.477.89.716 1.698.716.29 0 .6-.013.923-.04.325-.026.566-.06.725-.1V11.29h2.404v10.083zm3.06-9.744c.463-.133 1.066-.26 1.807-.378.742-.12 1.563-.18 2.463-.18.848 0 1.556.117 2.125.35.57.23 1.023.556 1.36.973.338.418.577.922.716 1.512.14.59.208 1.237.208 1.94v5.847h-2.403v-5.47c0-.557-.037-1.03-.11-1.422-.073-.39-.192-.71-.358-.955-.165-.245-.39-.424-.675-.537-.285-.112-.632-.17-1.043-.17-.304 0-.622.02-.953.06-.33.04-.575.074-.734.1v8.394h-2.403V11.628zm14.042 10.064h-2.404V11.29h2.405v10.402zm.258-13.445c0 .45-.146.808-.437 1.074-.292.266-.636.398-1.033.398-.41 0-.76-.132-1.053-.397-.29-.265-.436-.622-.436-1.073 0-.465.145-.83.436-1.094.292-.266.643-.398 1.053-.398.397 0 .74.132 1.033.398.29.265.437.63.437 1.094zm2.68.298l2.404-.398v3.143h3.694v2.008h-3.693v4.237c0 .835.133 1.432.397 1.79.265.358.715.537 1.35.537.438 0 .825-.046 1.163-.14.337-.092.606-.178.804-.258l.398 1.91c-.278.12-.642.242-1.092.367-.45.127-.98.19-1.59.19-.74 0-1.36-.1-1.856-.298-.496-.2-.89-.487-1.182-.865-.29-.378-.496-.836-.615-1.373-.12-.537-.18-1.15-.18-1.84v-9.01zm16.903 2.745c-1.073 3.95-2.318 7.53-3.734 10.74-.265.596-.536 1.107-.815 1.53-.278.425-.59.777-.933 1.055-.34.277-.732.483-1.152.607-.423.126-.914.19-1.47.19-.37 0-.738-.04-1.102-.12-.364-.08-.64-.166-.824-.26l.437-1.928c.476.186.947.278 1.41.278.622 0 1.11-.15 1.46-.447.35-.3.658-.76.923-1.383-.754-1.458-1.48-3.05-2.175-4.773-.694-1.725-1.313-3.555-1.856-5.49h2.563c.132.556.294 1.16.486 1.81.397 1.342.844 2.67 1.34 3.977.236.623.488 1.24.755 1.85.424-1.18.82-2.436 1.192-3.77.358-1.283.696-2.573 1.013-3.867h2.483z" fill="#FFF"></path></g></svg><svg width="12" height="7" role="img" arial-labelledby="algc-icon-separator-alt" viewbox="0 0 12 7" xmlns="http://www.w3.org/2000/svg"><title id="algc-icon-separator-alt">menu with dropdown</title><path d="M6.458 3.58L2.81.37C2.344-.04 1.634.01 1.225.477c-.41.468-.362 1.18.105 1.59L5.51 5.74s.537.375 1.05.356c.515-.02.984-.433.984-.433l4.072-3.596c.467-.41.515-1.12.107-1.59C11.315.01 10.605-.04 10.138.37l-3.68 3.21z" fill="#FFF" fill-rule="evenodd"></path></svg></a></li><li class="algc-navigation__li"><a class="algc-badge algc-navigation__navitem" href="./"><svg class="algc-arrowseparator" viewbox="0 0 18 35" xmlns="http://www.w3.org/2000/svg"><g id="Symbols" fill="none" fill-rule="evenodd"><g id="community/header" fill="#3369E6"><g id="Group-13"><g id="Group-2"><path id="Combined-Shape-Copy" d="M1.8537 34.7643l15.5597-17.268L1.8537 0H0l15.5597 17.4964L0 34.7644z"></path></g></g></g></g></svg><span>algoliasearch-helper</span></a></li></ul><div class="algc-navigation__menu"><ul class="algc-menu__list"><li class="algc-menu__list__item"><a href="gettingstarted.html">Getting started</a></li><li class="algc-menu__list__item"><a href="concepts.html">Concepts</a></li><li class="algc-menu__list__item"><a href="reference.html">Reference</a></li><li class="algc-menu__list__item"><a href="examples.html">Examples</a></li><li class="algc-menu__list__item"><a href="upgrade.html">Upgrade</a></li></ul><button class="algc-openmobile"><span></span></button></div></div></div><div class="algc-mobilemenu"><div class="algc-mobilemenuwrapper"><ul class="algc-mobilemenulist"><li class="algc-mobilemenu__item"><a href="gettingstarted.html">Getting started</a></li><li class="algc-mobilemenu__item"><a href="concepts.html">Concepts</a></li><li class="algc-mobilemenu__item"><a href="reference.html">Reference</a></li><li class="algc-mobilemenu__item"><a href="examples.html">Examples</a></li></ul></div></div></nav><section class="hero-section shrink"><div class="container"><div class="hero-container"><div class="fl-right"><img src="images/al-helper-logo.svg"></div><div class="fl-left"><a href="https://www.algolia.com/?utm_medium=social-owned&amp;utm_source=algoliasearch-helper%20website&amp;utm_campaign=homepage" title="Algolia built this"><span class="icon icon-algolia-small no-mobile" id="icon-algolia"></span></a><h1>Upgrade guides</h1></div></div></div></section><section class="documentation-section"><div class="container"><nav class="sidebar"><ul><li class="level-h2"><a href="#upgrade-to-version-3">Upgrade to version 3</a></li><li class="level-h3"><a href="#lodash">Lodash</a></li><li class="level-h3"><a href="#url-sync">URL sync</a></li><li class="level-h3"><a href="#events">Events</a></li><li class="level-h3"><a href="#default-values">Default values</a></li><li class="level-h3"><a href="#errors-on-getters">Errors on getters</a></li><li class="level-h3"><a href="#removed-methods">Removed methods</a></li></ul></nav><div class="documentation-container"><h2 id="upgrade-to-version-3">Upgrade to version 3</h2>
<p>We are preparing to integrate the Helper directly inside InstantSearch, and for this are making some breaking changes. If you are happy using the current version of the Helper, there&#39;s no pressing need for you to upgrade to the next version. If you want to migrate to the next version of the Helper, breaking changes are in the following places:</p>
<h3 id="lodash">Lodash</h3>
<p>We have fully migrated away from lodash in v3. This means that there are some cases which used to accept incorrect shapes (objects where it should be arrays) will throw errors now.</p>
<h3 id="url-sync">URL sync</h3>
<p>Synchronizing to the URL is no longer a responsibility of the Helper, but instead now it&#39;s a responsibility of the routing functionality of InstantSearch. This means the following methods no longer exist:</p>
<ul>
<li><code>algoliasearch-helper/url</code></li>
<li><code>algoliasearchHelper.url</code></li>
<li><code>getStateAsQueryString</code></li>
<li><code>getConfigurationFromQueryString</code></li>
<li><code>getForeignConfigurationInQueryString</code></li>
<li><code>setStateFromQueryString</code></li>
</ul>
<h3 id="events">Events</h3>
<p>The event payload now always is an object, instead of multiple arguments:</p>
<pre><code class="hljs js">helper.on(
  <span class="hljs-string">"search"</span>,
  ({ state: SearchParameters, results: SearchResults }) =&gt; {<span class="hljs-comment">/**/</span>}
);
helper.on(
  <span class="hljs-string">"change"</span>,
  ({
    state: SearchParameters,
    results: SearchResults,
    isPageReset: boolean 
  }) =&gt; {<span class="hljs-comment">/**/</span>}
);
helper.on(
  <span class="hljs-string">"searchForFacetValues"</span>,
  ({ state: SearchParameters, facet: string, query: string }) =&gt; {<span class="hljs-comment">/**/</span>}
);
helper.on(
  <span class="hljs-string">"searchOnce"</span>,
  ({ state: SearchParameters }) =&gt; {<span class="hljs-comment">/**/</span>}
);
helper.on(
  <span class="hljs-string">"result"</span>,
  ({ results: SearchResults, state: SearchParameters }) =&gt; {<span class="hljs-comment">/**/</span>}
);
helper.on(
  <span class="hljs-string">"error"</span>,
  ({ error: <span class="hljs-built_in">Error</span> }) =&gt; {<span class="hljs-comment">/**/</span>}
);
helper.on(
  <span class="hljs-string">"searchQueueEmpty"</span>,
  () =&gt; {<span class="hljs-comment">/**/</span>}
);</code></pre>

<h3 id="default-values">Default values</h3>
<p>SearchParameters no longer contains a default value for the parameters, from the previous <code>undefined</code>, <code>&quot;&quot;</code> or <code>0</code>, we now have no more values on the object by default, this means an empty SearchParameters now looks like this:</p>
<pre><code class="hljs json">{
  "<span class="hljs-attribute">facets</span>": <span class="hljs-value">[]</span>,
  "<span class="hljs-attribute">disjunctiveFacets</span>": <span class="hljs-value">[]</span>,
  "<span class="hljs-attribute">hierarchicalFacets</span>": <span class="hljs-value">[]</span>,
  "<span class="hljs-attribute">facetsRefinements</span>": <span class="hljs-value">{}</span>,
  "<span class="hljs-attribute">facetsExcludes</span>": <span class="hljs-value">{}</span>,
  "<span class="hljs-attribute">disjunctiveFacetsRefinements</span>": <span class="hljs-value">{}</span>,
  "<span class="hljs-attribute">numericRefinements</span>": <span class="hljs-value">{}</span>,
  "<span class="hljs-attribute">tagRefinements</span>": <span class="hljs-value">[]</span>,
  "<span class="hljs-attribute">hierarchicalFacetsRefinements</span>": <span class="hljs-value">{}
</span>}</code></pre>

<h3 id="errors-on-getters">Errors on getters</h3>
<p>There were multiple places in SearchParameters or SearchResults which would throw an error when e.g. a refinement is requested which isn&#39;t set up via facets. This behavior was confusing, and especially unhelpful in InstantSearch where we have situations where we try to fetch before the results are in. We chose for that reason to migrate those cases to the default response:</p>
<ul>
<li><code>SearchResults.getFacetValues</code> -&gt; undefined</li>
<li><code>SearchResults.getFacetStats</code> -&gt; undefined</li>
<li><code>SearchParameters.getConjunctiveRefinements</code> -&gt; []</li>
<li><code>SearchParameters.getDisjunctiveRefinements</code> -&gt; []</li>
<li><code>SearchParameters.getExcludeRefinements</code> -&gt; []</li>
<li><code>SearchParameters.getHierarchicalFacetBreadcrumb</code> -&gt; []</li>
<li><code>SearchParameters.isFacetRefined</code> -&gt; false</li>
<li><code>SearchParameters.isExcludeRefined</code> -&gt; false</li>
<li><code>SearchParameters.isDisjunctiveFacetRefined</code> -&gt; false</li>
<li><code>SearchParameters.isHierarchicalFacetRefined</code> -&gt; false</li>
</ul>
<h3 id="removed-methods">Removed methods</h3>
<ul>
<li><code>getQueryParameter</code> &amp; <code>helper.state.getQueryParameter</code></li>
</ul>
<pre><code class="hljs">// With getQueryParameter
helper.getQueryParameter('hitsPerPage');

// Without getQueryParameter
helper.<span class="hljs-keyword">state</span>.hitsPerPage;</code></pre>

<ul>
<li><code>helper.state.filter</code></li>
</ul>
<p>You need to filter the returned object yourself using e.g. <code>Object.fromEntries(Object.entries(helper.state).filter(/**/))</code></p>
<ul>
<li><p><code>helper.state.mutateMe</code></p>
</li>
<li><p><code>helper.getState</code> -&gt; <code>helper.state</code></p>
</li>
<li><p><code>helper.isRefined</code> -&gt; <code>helper.hasRefinements</code></p>
</li>
</ul>
</div></div></section><section class="ac-footer"><div class="ac-footer-container"><p class="ac-footer-links">Code licensed under<a class="ac-footer-link-item" href="https://raw.githubusercontent.com/algolia/algoliasearch-helper-js/master/LICENSE">MIT</a><br><a class="ac-footer-link-item" href="https://github.com/algolia/algoliasearch-helper-js">GitHub</a><a class="ac-footer-link-item" href="https://github.com/algolia/algoliasearch-helper-js/issues">issues</a></p></div><div class="ac-footer-container ac-footer-brand"><p>This project is part of</p><img class="ac-footer-brand-icon" src="images/community-badge.svg"><figure><img class="ac-footer-brand-logo" src="https://res.cloudinary.com/hilnmyskv/image/upload/v1484219849/algolia-community-logo-words-darkbg.svg"><figcaption>Algolia Community</figcaption></figure><a class="ac-footer-btn ac-footer-btn-cta" href="https://community.algolia.com/">See More</a><span class="ac-icon ac-icon-love-dark"></span></div><p class="ac-footer-version">Latest version: 3.13.0</p><div class="ac-footer-actions"><div class="footer-container"><p>Build unique search experiences with Algolia</p><a class="ac-footer-btn ac-footer-btn-ghost-grey" href="https://www.algolia.com/why?utm_medium=social-owned&amp;utm_source=helper%20website&amp;utm_campaign=homepage&amp;utm_term=why">See Why<span class="ac-icon-triangle"></span></a><a class="ac-footer-btn ac-footer-btn-ghost-pink" href="https://www.algolia.com/users/sign_up?utm_medium=social-owned&amp;utm_source=helper%20website&amp;utm_campaign=homepage&amp;utm_term=get_started">Get Started For Free</a></div></div></section><script src="js/main.js"></script></body></html>